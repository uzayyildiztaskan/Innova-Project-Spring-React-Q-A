{"version":3,"sources":["reportWebVitals.js","components/Input.js","components/ButtonWithProgress.js","shared/ApiProgress.js","redux/Constants.js","api/apiCalls.js","redux/authActions.js","pages/RegisterUserPage.js","pages/LoginPage.js","assets/profile.png","components/ProfileImageWithDefault.js","components/Modal.js","components/AnswerView.js","components/Spinner.js","components/AnswerFeed.js","components/SubmitAnswer.js","components/QuestionView.js","components/QuestionFeed.js","components/SubmitQuestion.js","components/UserListItem.js","components/UserList.js","pages/HomePage.js","components/ProfileCard.js","pages/UserPage.js","components/TopBar.js","assets/logo.png","container/App.js","redux/authReducer.js","redux/configureStore.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Input","props","label","error","name","onChange","type","defaultValue","className","undefined","ButtonWithProgress","onClick","pendingApiCall","disabled","text","useApiProgress","apiMethod","apiPath","strictPath","useState","setPendingApiCall","useEffect","requestInterceptor","responseInterceptor","updateApiCallFor","method","url","inProgress","startsWith","axios","interceptors","request","use","response","config","eject","LOGOUT_SUCCESS","LOGIN_SUCCESS","UPDATE_SUCCESS","getUsers","page","size","get","setAuthorizationHeader","isLoggedIn","token","authorizationHeaderValue","defaults","headers","getUser","username","updateUser","body","put","postQuestion","question","post","getQuestions","path","getOldQuestions","id","getNewQuestionCount","getNewQuestions","deleteQuestion","delete","deleteUser","postAnswer","getAnswers","deleteAnswer","questionId","answerId","logoutSuccess","dispatch","a","ACTIONS","loginSuccess","authState","payload","updateSuccess","displayName","image","loginHandler","credentials","creds","data","user","password","signupHandler","RegisterUserPage","passwordConfirmError","passwordConfirm","form","setForm","errors","setErrors","useDispatch","event","target","value","previusErrors","previousForm","onClickSignUp","preventDefault","history","push","validationErrors","usernameError","displayNameError","passwordError","pendingApiCallSignup","LoginPage","setUsername","setPassword","setError","onClickLogin","message","buttonEnabled","ProfileImageWithDefault","tempimage","imageSource","defaultPicture","alt","src","onError","Modal","visible","onClickCancel","onClickOk","title","okButton","style","backgroundColor","AnswerView","loggedInUser","useSelector","store","answer","onDeleteAnswer","content","timestamp","modalVisible","setModalVisible","formatted","format","onClickDelete","ownedByLoggedInUser","width","height","to","Spinner","AnswerFeed","last","number","answerPage","setAnswerPage","useParams","initialAnswerLoadProgress","previousAnswerPage","loadAnswers","onDeleteAnswerSuccess","filter","length","map","SubmitAnswer","focused","setFocused","setAnswer","questionID","onClickSubmit","textAreaClass","rows","onFocus","QuestionView","onDeleteQuestion","answersVisible","setAnswersVisible","QuestionFeed","questionPage","setQuestionPage","newQuestionCount","setNewQuestionCount","initialQuestionLoadProgress","lastQuestionId","firstQuestionId","lastQuestionIndex","oldQuestionPath","loadOldQuestionsProgress","newQuestionPath","loadNewQuestionsProgress","looper","setInterval","count","clearInterval","previousQuestionPage","loadQuestions","loadOldQuestions","loadNewQuestions","onDeleteQuestionSuccess","cursor","SubmitQuestion","setQuestion","UserListItem","UserList","setPage","loadFailure","setLoadFailure","loadUsers","users","first","actionDiv","previousPage","nextPage","HomePage","ProfileCard","inEditMode","setInEditMode","updatedDisplayName","setUpdatedDisplayName","loggedInUsername","pathUsername","setUser","editable","setEditable","newImage","setNewImage","setValidationErrors","useHistory","previousValidationErrors","pendingApiCallDeleteUser","onClickSave","split","onClickDeleteUser","imageError","files","file","fileReader","FileReader","onloadend","result","readAsDataURL","UserPage","notFound","setNotFound","loadUser","fontsize","TopBar","menuArea","useRef","menuVisible","setMenuVisible","document","addEventListener","menuClickTracker","removeEventListener","current","contains","links","dropDownClass","ref","App","exact","component","defaultState","authReducer","state","action","SecureLs","SecureLS","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","subscribe","newState","getState","set","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c1fb6681.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\n\r\nconst Input = (props) =>{\r\n    const { label, error, name, onChange, type, defaultValue} = props;\r\n    let className = 'form-control';\r\n\r\n    if(type == 'file') {\r\n        className += '-file'\r\n    }\r\n\r\n    if(error != undefined) {\r\n        className += ' is-invalid';\r\n    }\r\n    return (\r\n        <div className = \"form-group\">\r\n            <label>{label}</label>\r\n            <input className = {className} name = {name} onChange = {onChange} type = {type} defaultValue = {defaultValue}/>\r\n            <div className=\"invalid-feedback\">{error}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nconst ButtonWithProgress = (props) => {\r\n\r\n    const { onClick, pendingApiCall, disabled, text, className } = props;\r\n\r\n    return (\r\n        <button className = {className || \"btn btn-primary\"} onClick = { onClick } disabled = {disabled}>\r\n        {pendingApiCall && <span className = \"spinner-border spinner-border-sm\"></span>} {text} \r\n        </button>\r\n    );\r\n};\r\n\r\nexport default ButtonWithProgress;","import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const useApiProgress = (apiMethod, apiPath, strictPath) => {\r\n    const [pendingApiCall, setPendingApiCall] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let requestInterceptor, responseInterceptor;\r\n\r\n        const updateApiCallFor = (method, url, inProgress) => {\r\n            if(method != apiMethod) {\r\n                return;\r\n            }\r\n            if(strictPath && url == apiPath) {\r\n                setPendingApiCall(inProgress);\r\n            }\r\n            else if(!strictPath && url.startsWith(apiPath)) {\r\n               setPendingApiCall(inProgress);\r\n            }\r\n        };\r\n\r\n        const registerInterceptors = () => {            \r\n            requestInterceptor = axios.interceptors.request.use(request => {\r\n                const { url, method } = request;\r\n                updateApiCallFor(method, url, true);\r\n                return request;\r\n            })\r\n    \r\n            responseInterceptor = axios.interceptors.response.use(\r\n                response => {\r\n                    const { url, method } = response.config;\r\n                    updateApiCallFor(method, url, false);\r\n                    return response;\r\n            }, \r\n            (error) => {\r\n                const { url, method } = error.config;\r\n                updateApiCallFor(method, url, false);\r\n                throw error;\r\n            }\r\n            );\r\n        };\r\n\r\n        const unregisterInterceptors = () => {\r\n            axios.interceptors.request.eject(requestInterceptor);\r\n            axios.interceptors.response.eject(responseInterceptor);\r\n        }\r\n\r\n        registerInterceptors();\r\n\r\n        return function unmount() {\r\n            unregisterInterceptors();\r\n        }\r\n    }, [apiPath, apiMethod, strictPath]);\r\n\r\n    return pendingApiCall;\r\n}","export const LOGOUT_SUCCESS = 'logout-success';\r\nexport const LOGIN_SUCCESS = 'login-success';\r\nexport const UPDATE_SUCCESS = 'update-success';","import axios from 'axios';\r\n\r\nexport const signup = (body) => {\r\n    return axios.post('/api/1.0/users', body);   \r\n};\r\n\r\nexport const login = creds => {\r\n    return axios.post('/api/1.0/auth', creds);\r\n};\r\n\r\nexport const logout = () => {\r\n    return axios.post('/api/1.0/logout');\r\n};\r\n\r\nexport const getUsers = (page = 0, size = 3) => {\r\n    return axios.get(`/api/1.0/users?page=${page}&size=${size}`);\r\n};\r\n\r\nexport const setAuthorizationHeader = ({isLoggedIn, token}) => {\r\n    if (isLoggedIn) {\r\n        const authorizationHeaderValue = `Bearer ${token}`;\r\n        axios.defaults.headers['Authorization'] = authorizationHeaderValue;\r\n    }\r\n    else{\r\n        delete axios.defaults.headers['Authorization'];\r\n    }\r\n};\r\n\r\nexport const getUser = username => {\r\n    return axios.get(`/api/1.0/users/${username}`);\r\n};\r\n\r\nexport const updateUser = (username, body) => {\r\n    return axios.put(`/api/1.0/users/${username}`, body);\r\n};\r\n\r\nexport const postQuestion = question => {\r\n    return axios.post('/api/1.0/questions', question);\r\n};\r\n\r\nexport const getQuestions = (username, page = 0) => {\r\n    const path = username ? `/api/1.0/users/${username}/questions?page=` : '/api/1.0/questions?page=';\r\n    return axios.get(path+ page);\r\n};\r\n\r\nexport const getOldQuestions = (id, username) => {\r\n    const path = username ? `/api/1.0/users/${username}/questions/${id}` : `/api/1.0/questions/${id}`;\r\n    return axios.get(path);\r\n};\r\nexport const getNewQuestionCount = (id, username) => {\r\n    const path = username ? `/api/1.0/users/${username}/questions/${id}?count=true` : `/api/1.0/questions/${id}?count=true`;\r\n    return axios.get(path);\r\n};\r\n\r\nexport const getNewQuestions = (id, username) => {\r\n    const path = username ? `/api/1.0/users/${username}/questions/${id}?direction=after` : `/api/1.0/questions/${id}?direction=after`;\r\n    return axios.get(path);\r\n};\r\n\r\nexport const deleteQuestion = id =>{\r\n    return axios.delete(`/api/1.0/questions/${id}`);\r\n};\r\n\r\nexport const deleteUser = username => {\r\n    return axios.delete(`/api/1.0/users/${username}`);\r\n};\r\n\r\nexport const postAnswer = (question, id) => {    \r\n    return axios.post(`/api/1.0/questions/${id}/answers`, question);\r\n};\r\n\r\nexport const getAnswers = (id, page = 0) => {\r\n    const path =`/api/1.0/questions/${id}/answers?page=`;\r\n    return axios.get(path+ page);\r\n};\r\n\r\nexport const deleteAnswer = (questionId, answerId) => {\r\n    return axios.delete(`/api/1.0/questions/${questionId}/answers/${answerId}`);\r\n};","import * as ACTIONS from './Constants';\r\nimport { login, signup, logout } from '../api/apiCalls'\r\n\r\nexport const logoutSuccess = () => {\r\n\r\n    return async function(dispatch){\r\n        try{\r\n            await logout();\r\n        } catch (error) {\r\n\r\n        }\r\n        dispatch({\r\n            type: ACTIONS.LOGOUT_SUCCESS\r\n        })\r\n    }\r\n};\r\n\r\nexport const loginSuccess = (authState) => {\r\n    return {\r\n        type: ACTIONS.LOGIN_SUCCESS,\r\n        payload: authState\r\n    }\r\n}\r\n\r\nexport const updateSuccess = ({displayName, image}) => {\r\n    return {\r\n        type: ACTIONS.UPDATE_SUCCESS,\r\n        payload: {\r\n            displayName,\r\n            image\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginHandler = (credentials) => {\r\n    return async function(dispatch) {\r\n        const response = await login(credentials)\r\n                \r\n        const authState = {\r\n            ... response.data.user,\r\n            password: credentials.password,\r\n            token: response.data.token\r\n        };\r\n        dispatch(loginSuccess(authState));\r\n        return response;\r\n    }\r\n}\r\n\r\nexport const signupHandler = (user) => {\r\n    return async function(dispatch) {\r\n        const response = await signup(user);\r\n        await dispatch(loginHandler(user));\r\n        return response;\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport Input from '../components/Input';  \r\nimport ButtonWithProgress from '../components/ButtonWithProgress';  \r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signupHandler } from '../redux/authActions';\r\n\r\nconst RegisterUserPage = (props) => {\r\n    const [form, setForm] = useState({\r\n        username: null,\r\n        displayName: null,\r\n        password: null,\r\n        passwordConfirm: null,\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onChange = event => {\r\n        const { name, value} = event.target;\r\n        setErrors((previusErrors) => ({... previusErrors, [name]: undefined }));\r\n        setForm((previousForm) => ({... previousForm, [name]: value}));\r\n        \r\n    };\r\n\r\n    const onClickSignUp = async event => {\r\n        event.preventDefault();\r\n\r\n        const { history } = props;\r\n        const { push } = history;\r\n\r\n        const { username, displayName, password } = form;\r\n\r\n        const body = {\r\n            username,\r\n            displayName,\r\n            password\r\n        };\r\n\r\n        try{\r\n            await dispatch(signupHandler(body));\r\n            push('/');  \r\n        } catch(error){\r\n            if(error.response.data.validationErrors){\r\n                setErrors( error.response.data.validationErrors);\r\n            }\r\n        }\r\n    };\r\n\r\n    const { username: usernameError, displayName: displayNameError, password: passwordError } = errors;\r\n    const pendingApiCallSignup = useApiProgress('post', '/api/1.0/users');\r\n    const pendingApiCallLogin = useApiProgress('post', '/api/1.0/auth');\r\n\r\n    const pendingApiCall = pendingApiCallLogin || pendingApiCallSignup;\r\n\r\n    let passwordConfirmError;\r\n    if(form.password != form.passwordConfirm){\r\n        passwordConfirmError = 'Password mismatch'\r\n    }\r\n    \r\n    return(\r\n        <div className = \"container\">\r\n            <form>\r\n                <h1 className = \"text-center\">Sign up</h1>\r\n                <Input name = \"username\" label = \"Username\" error = {usernameError} onChange = {onChange} />\r\n                <Input name = \"displayName\" label = \"Display Name\" error = {displayNameError} onChange = {onChange} />                    \r\n                <Input name = \"password\" label = \"Password\" error = {passwordError} onChange = {onChange} type = \"password\" />\r\n                <Input name = \"passwordConfirm\" label = \"Password Confirm\" error = {passwordConfirmError} onChange = {onChange} type = \"password\" />                    \r\n                <div className = \"text-center\">\r\n                    <ButtonWithProgress\r\n                    onClick = {onClickSignUp}\r\n                    disabled = {pendingApiCall || passwordConfirmError != undefined }\r\n                    pendingApiCall = {pendingApiCall}\r\n                    text = \"Sign Up\"\r\n                    />                   \r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RegisterUserPage;","import React, { useEffect, useState } from 'react';\r\nimport Input from '../components/Input';\r\nimport ButtonWithProgress from '../components/ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginHandler, loginSuccess } from '../redux/authActions';\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [error, setError] = useState();\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setError(undefined);\r\n    }, [username, password])\r\n\r\n    const onClickLogin = async event => {\r\n        event.preventDefault();\r\n        const creds = {\r\n            username,\r\n            password\r\n        };\r\n        \r\n        const { history } = props;\r\n        const { push } = history;\r\n\r\n        setError(undefined);\r\n        try {\r\n            await dispatch(loginHandler(creds));\r\n            push('/');\r\n        } catch (apiError) {\r\n            setError(apiError.response.data.message);\r\n        }        \r\n    };\r\n\r\n    const pendingApiCall = useApiProgress('post', '/api/1.0/auth');\r\n    \r\n    const buttonEnabled = username && password;\r\n\r\n    return (\r\n        <div className = \"container\">\r\n            <form>\r\n                <h1 className = \"text-center\">Login</h1>\r\n                <Input label = \"Username\" onChange = {(event) => setUsername(event.target.value)} />\r\n                <Input label = \"Password\" type = 'password' onChange = {event => setPassword(event.target.value)} />\r\n                {error && <div className = \"alert alert-danger\">{error}</div>}\r\n                <div className = \"text-center\">\r\n                    <ButtonWithProgress \r\n                    onClick = {onClickLogin} \r\n                    disabled = {!buttonEnabled || pendingApiCall }\r\n                    pendingApiCall = { pendingApiCall }\r\n                    text = \"Login\" \r\n                    />\r\n                </div>                    \r\n            </form>                \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;","export default __webpack_public_path__ + \"static/media/profile.06c30927.png\";","import React from 'react';\r\nimport defaultPicture from '../assets/profile.png';\r\n\r\nconst ProfileImageWithDefault = (props) => {\r\n\r\n    const { image, tempimage } = props;\r\n\r\n    let imageSource = defaultPicture;\r\n    if(image) {\r\n        imageSource = 'images/' + image;\r\n    } \r\n    return (\r\n        <img alt = {`Profile`} src = {tempimage || imageSource} {... props} \r\n            onError = {(event) => {\r\n                event.target.src = defaultPicture;\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default ProfileImageWithDefault;","import React from 'react';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\n\r\nconst Modal = (props) => {\r\n    const { visible, onClickCancel, message, onClickOk, pendingApiCall, title, okButton } = props;\r\n\r\n    let className = 'modal fade';\r\n    if(visible) {\r\n        className += 'show d-block';\r\n    }\r\n    return (\r\n        <div className = {className} style = {{backgroundColor: '#000000b0'}}>\r\n            <div className = \"modal-dialog\">\r\n                <div className = \"modal-content\">\r\n                    <div className = \"modal-header\">\r\n                        <h5 className = \"modal-title\">{title}</h5>                        \r\n                    </div>\r\n                    <div className = \"modal-body\">\r\n                        {message}\r\n                    </div>\r\n                    <div className = \"modal-footer\">\r\n                        <button type=\"button\" className = \"btn btn-secondary\" onClick = {onClickCancel} disabled = {pendingApiCall}>Cancel</button>\r\n                        <ButtonWithProgress className = \"btn btn-danger\" onClick = {onClickOk} pendingApiCall = {pendingApiCall} text = {okButton} disabled = {pendingApiCall}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;","import React, { useState } from 'react';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'timeago.js';\r\nimport { useSelector } from 'react-redux';\r\nimport { deleteAnswer } from '../api/apiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\n\r\nconst AnswerView = (props) => {\r\n    const loggedInUser = useSelector(store => store.username);\r\n    const { answer, onDeleteAnswer } = props;\r\n    const { user, content, timestamp, id } = answer;\r\n    const { username, displayName, image } = user;\r\n    const { question } = props;\r\n    const { id: questionId } = question; \r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    const pendingApiCall = useApiProgress('delete', `/api/1.0/questions/${questionId}/answers/${id}`, true);\r\n\r\n    const formatted = format(timestamp);\r\n\r\n    const onClickDelete = async () => {\r\n        await deleteAnswer(questionId, id);\r\n        onDeleteAnswer(id);\r\n    };\r\n\r\n    const onClickCancel = () => {\r\n        setModalVisible(false);\r\n    }\r\n    \r\n    const ownedByLoggedInUser = loggedInUser == username;\r\n\r\n    return (\r\n        <>\r\n            <div className = \"card p-1\">\r\n                <div className = \"d-flex\">\r\n                    <ProfileImageWithDefault image = {image} width = \"32\" height = \"32\" className = \"rounded-circle m-1\"/>\r\n                    <div className = \"flex-fill m-auto pl-2\">\r\n                        <Link to = {`/user/${username}`}>\r\n                            <h6 className = \"d-inline\">{displayName}@{username}</h6>\r\n                            <span> - </span>\r\n                            <span>{formatted}</span>\r\n                        </Link>\r\n                    </div>\r\n                    {ownedByLoggedInUser && (\r\n                        <button className = \"btn btn-delete-link btn-sm\" onClick = {() => setModalVisible(true)}>\r\n                            <span className = \"material-icons\">delete_outline</span>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <div className = \"pl-5\">\r\n                    {content}\r\n                </div>                \r\n            </div>\r\n            <Modal visible={modalVisible} onClickCancel = {onClickCancel} onClickOk = {onClickDelete} \r\n                message = {\r\n                    <div>\r\n                        <div>\r\n                            <strong>Are you sure you want to delete the answer?</strong>\r\n                        </div>\r\n                        <span>{content}</span>\r\n                    </div>\r\n                }\r\n                pendingApiCall = {pendingApiCall}\r\n                title = {'Delete Answer'}\r\n                okButton = {'Delete Answer'}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AnswerView;","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className = \"d-flex justify-content-center\">\r\n            <div className = \"spinner-border\">\r\n                <span className = \"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Spinner;","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getNewAnswerCount, getNewAnswers, getOldAnswers, getAnswers } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport AnswerView from './AnswerView';\r\nimport Spinner from './Spinner';\r\n\r\nconst AnswerFeed = (props) => {\r\n\r\n    const [answerPage, setAnswerPage] = useState({content: [], last: true, number: 0});\r\n    const { username } = useParams();\r\n    const { question } = props;\r\n    const { id } = question;\r\n    \r\n    const path = `/api/1.0/questions/${id}/answers?page=`;\r\n    const initialAnswerLoadProgress = useApiProgress('get', path);\r\n\r\n    useEffect(() => {        \r\n        const loadAnswers = async (page) => {\r\n            try{\r\n                const response = await getAnswers(id, page);\r\n                setAnswerPage(previousAnswerPage => ({\r\n                    ... response.data,\r\n                    content: [... previousAnswerPage.content, ... response.data.content]\r\n                }));\r\n            } catch (error) {\r\n    \r\n            }\r\n        };\r\n        loadAnswers();\r\n    }, [username]);\r\n\r\n    const onDeleteAnswerSuccess = id => {\r\n        setAnswerPage(previousAnswerPage => ({\r\n            ... previousAnswerPage,\r\n            content: previousAnswerPage.content.filter(answer => answer.id != id)\r\n        }));\r\n    }\r\n\r\n    const { content, last} = answerPage;\r\n\r\n    if(content.length == 0) {\r\n        return <div className = \"alert alert-secondary text-center\">{initialAnswerLoadProgress ? <Spinner /> : 'There are no answers'}</div>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {content.map(answer => {\r\n                return <AnswerView key = {answer.id} answer ={answer} onDeleteAnswer = {onDeleteAnswerSuccess} question = {question}/>\r\n            })}            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AnswerFeed;    ","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { postAnswer } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\n\r\nconst SubmitAnswer = (props) => {\r\n    const { image } = useSelector((store) => ({image: store.image}));\r\n    const [focused, setFocused] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n    const [answer, setAnswer] = useState('');\r\n    const { question } = props;\r\n    const { id: questionID } = question;\r\n\r\n    useEffect(() => {\r\n        if(!focused){\r\n            setAnswer('');\r\n            setErrors({});\r\n        }\r\n    }, [focused]);\r\n\r\n    useEffect(() => {\r\n        setErrors({});\r\n    }, [answer]);\r\n\r\n    const pendingApiCall = useApiProgress('post', `/api/1.0/questions/${questionID}/answers`);\r\n\r\n    const onClickSubmit = async () => {\r\n        const body = {\r\n            content: answer\r\n        };\r\n\r\n        try {\r\n            await postAnswer(body, questionID);\r\n            setFocused(false);\r\n        } catch (error) {\r\n            if(error.response.data.validationErrors){\r\n                setErrors( error.response.data.validationErrors);\r\n            }\r\n        }\r\n    };\r\n\r\n    let textAreaClass = 'form-control';\r\n    if(errors.content) {\r\n        textAreaClass += ' is-invalid';\r\n    }\r\n\r\n    return (\r\n        <div className = \"card p-1 flex-row\">\r\n            <ProfileImageWithDefault image = {image} width = \"32\" height = \"32\" className = \"rounded-circle mr-1\"/>\r\n            <div className = \"flex-fill\">\r\n                <textarea className = {textAreaClass} rows = {focused ? '3' : '1'} onFocus = {() => setFocused(true)} onChange = {(event) => setAnswer(event.target.value)} value = {answer}/>\r\n                <div className=\"invalid-feedback\">{errors.content}</div>\r\n                {focused && (\r\n                    <div className = \"text-right mt-1\">\r\n                        <ButtonWithProgress className = \"btn btn-primary\" onClick = {onClickSubmit} text = \"Submit\" pendingApiCall = {pendingApiCall} disabled = {pendingApiCall}/>\r\n                        <button className = \"btn btn-light d-inline-flex ml-1\" onClick = {() => setFocused(false)} disabled = {pendingApiCall}>\r\n                            <span className = \"material-icons\">close</span>Cancel\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubmitAnswer;","import React, { useState } from 'react';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'timeago.js';\r\nimport { useSelector } from 'react-redux';\r\nimport { deleteQuestion } from '../api/apiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport AnswerFeed from './AnswerFeed';\r\nimport SubmitAnswer from './SubmitAnswer';\r\n\r\nconst QuestionView = (props) => {\r\n    const loggedInUser = useSelector(store => store.username);\r\n    const { question, onDeleteQuestion } = props;\r\n    const { user, content, timestamp, id } = question;\r\n    const { username, displayName, image } = user;\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [answersVisible, setAnswersVisible] = useState(false);\r\n\r\n    const pendingApiCall = useApiProgress('delete', `/api/1.0/questions/${id}`, true);\r\n\r\n    const formatted = format(timestamp);\r\n\r\n    const onClickDelete = async () => {\r\n        await deleteQuestion(id);\r\n        onDeleteQuestion(id);\r\n    };\r\n\r\n    const onClickCancel = () => {\r\n        setModalVisible(false);\r\n    }\r\n\r\n    const onClickViewButton = () => {\r\n        if(answersVisible){\r\n            setAnswersVisible(false);            \r\n        }\r\n        else {\r\n            setAnswersVisible(true);\r\n        }\r\n    }\r\n    \r\n    const ownedByLoggedInUser = loggedInUser == username;\r\n\r\n    return (\r\n        <>\r\n            <div className = \"card p-1 mb-4\">\r\n                <div className = \"d-flex\">\r\n                    <ProfileImageWithDefault image = {image} width = \"32\" height = \"32\" className = \"rounded-circle m-1\"/>\r\n                    <div className = \"flex-fill m-auto pl-2\">\r\n                        <Link to = {`/user/${username}`}>\r\n                            <h6 className = \"d-inline\">{displayName}@{username}</h6>\r\n                            <span> - </span>\r\n                            <span>{formatted}</span>\r\n                        </Link>\r\n                    </div>\r\n                    {ownedByLoggedInUser && (\r\n                        <button className = \"btn btn-delete-link btn-sm\" onClick = {() => setModalVisible(true)}>\r\n                            <span className = \"material-icons\">delete_outline</span>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <div className = \"pl-5\">\r\n                    {content}\r\n                </div>\r\n                <div className = \"btn btn-sm d-inline-flex\" onClick = {onClickViewButton}>\r\n                    <span className = \"material-icons text-info\">{answersVisible ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}</span>\r\n                    {answersVisible ? 'Hide Answers' : 'Show Answers'}\r\n                </div>\r\n                <div>\r\n                    <SubmitAnswer question = {question} />\r\n                    {answersVisible && (<AnswerFeed question = {question} />)}\r\n                </div>\r\n            </div>\r\n            <Modal visible={modalVisible} onClickCancel = {onClickCancel} onClickOk = {onClickDelete} \r\n                message = {\r\n                    <div>\r\n                        <div>\r\n                            <strong>Are you sure you want to delete the question?</strong>\r\n                        </div>\r\n                        <span>{content}</span>\r\n                    </div>\r\n                }\r\n                pendingApiCall = {pendingApiCall}\r\n                title = {'Delete Question'}\r\n                okButton = {'Delete Question'}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default QuestionView;","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getNewQuestionCount, getNewQuestions, getOldQuestions, getQuestions } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport QuestionView from './QuestionView';\r\nimport Spinner from './Spinner';\r\n\r\nconst QuestionFeed = () => {\r\n\r\n    const [questionPage, setQuestionPage] = useState({content: [], last: true, number: 0});\r\n    const [newQuestionCount, setNewQuestionCount] = useState(0);\r\n    const { username } = useParams();\r\n    \r\n    const path = username ? `/api/1.0/users/${username}/questions?page=` : '/api/1.0/questions?page=';\r\n    const initialQuestionLoadProgress = useApiProgress('get', path);\r\n    \r\n    let lastQuestionId = 0;\r\n    let firstQuestionId = 0;\r\n    if (questionPage.content.length > 0){\r\n\r\n        firstQuestionId = questionPage.content[0].id;\r\n\r\n        const lastQuestionIndex = questionPage.content.length - 1;\r\n        lastQuestionId = questionPage.content[lastQuestionIndex].id;\r\n    }\r\n\r\n    const oldQuestionPath = username ? `/api/1.0/users/${username}/questions/${lastQuestionId}` : `/api/1.0/questions/${lastQuestionId}`;\r\n    const loadOldQuestionsProgress = useApiProgress('get', oldQuestionPath, true);\r\n\r\n    const newQuestionPath = username ? `/api/1.0/users/${username}/questions/${firstQuestionId}?direction=after` : `/api/1.0/questions/${firstQuestionId}?direction=after`;\r\n\r\n    const loadNewQuestionsProgress = useApiProgress('get', newQuestionPath, true);\r\n    \r\n    useEffect(() => {\r\n        const getCount = async () => {\r\n            const response = await getNewQuestionCount(firstQuestionId, username);\r\n            setNewQuestionCount(response.data.count);\r\n        }\r\n        let looper = setInterval(getCount, 1000);\r\n        return function cleanup() {\r\n            clearInterval(looper);\r\n        }\r\n    }, [firstQuestionId, username]);\r\n\r\n    useEffect(() => {        \r\n        const loadQuestions = async (page) => {\r\n            try{\r\n                const response = await getQuestions(username, page);\r\n                setQuestionPage(previousQuestionPage => ({\r\n                    ... response.data,\r\n                    content: [... previousQuestionPage.content, ... response.data.content]\r\n                }));\r\n            } catch (error) {\r\n    \r\n            }\r\n        };\r\n        loadQuestions();\r\n    }, [username]);\r\n\r\n\r\n    const loadOldQuestions = async() => {\r\n        const response = await getOldQuestions(lastQuestionId, username);\r\n        setQuestionPage(previousQuestionPage => ({\r\n            ... response.data,\r\n            content: [... previousQuestionPage.content, ... response.data.content]\r\n        }));\r\n    }\r\n\r\n    const loadNewQuestions = async () => {\r\n        const response = await getNewQuestions(firstQuestionId, username);\r\n        setQuestionPage(previousQuestionPage => ({\r\n            ... previousQuestionPage,\r\n            content: [... response.data, ... previousQuestionPage.content]\r\n        }));\r\n        setNewQuestionCount(0);\r\n    }\r\n\r\n    const onDeleteQuestionSuccess = id => {\r\n        setQuestionPage(previousQuestionPage => ({\r\n            ... previousQuestionPage,\r\n            content: previousQuestionPage.content.filter(question => question.id != id)\r\n        }));\r\n    }\r\n\r\n    const { content, last} = questionPage;\r\n\r\n    if(content.length == 0) {\r\n        return <div className = \"alert alert-secondary text-center\">{initialQuestionLoadProgress ? <Spinner /> : 'There are no questions'}</div>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {newQuestionCount > 0 && (\r\n                <div className = \"alert alert-secondary text-center mb-1\" style = {{cursor: loadNewQuestionsProgress ? 'not-allowed' : 'pointer'}} onClick = {loadNewQuestionsProgress ? () => {} : loadNewQuestions}>{loadNewQuestionsProgress ? <Spinner /> : 'There are new questions'}</div>\r\n            )}\r\n            {content.map(question => {\r\n                return <QuestionView key = {question.id} question ={question} onDeleteQuestion = {onDeleteQuestionSuccess}/>\r\n            })}\r\n            {!last && (\r\n                <div className = \"alert alert-secondary text-center\" style = {{cursor: loadOldQuestionsProgress ? 'not-allowed' : 'pointer'}} onClick = {loadOldQuestionsProgress ? () => {} : loadOldQuestions}>\r\n                    {loadOldQuestionsProgress ? <Spinner /> : 'Load old questions'}\r\n                </div>\r\n            )} \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuestionFeed;    ","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { postQuestion } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\n\r\nconst SubmitQuestion = () => {\r\n    const { image } = useSelector((store) => ({image: store.image}));\r\n    const [focused, setFocused] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n    const [question, setQuestion] = useState('');\r\n\r\n    useEffect(() => {\r\n        if(!focused){\r\n            setQuestion('');\r\n            setErrors({});\r\n        }\r\n    }, [focused]);\r\n\r\n    useEffect(() => {\r\n        setErrors({});\r\n    }, [question]);\r\n\r\n    const pendingApiCall = useApiProgress('post', '/api/1.0/questions');\r\n\r\n    const onClickSubmit = async () => {\r\n        const body = {\r\n            content: question\r\n        };\r\n\r\n        try {\r\n            await postQuestion(body);\r\n            setFocused(false);\r\n        } catch (error) {\r\n            if(error.response.data.validationErrors){\r\n                setErrors( error.response.data.validationErrors);\r\n            }\r\n        }\r\n    };\r\n\r\n    let textAreaClass = 'form-control';\r\n    if(errors.content) {\r\n        textAreaClass += ' is-invalid';\r\n    }\r\n\r\n    return (\r\n        <div className = \"card p-1 flex-row\">\r\n            <ProfileImageWithDefault image = {image} width = \"32\" height = \"32\" className = \"rounded-circle mr-1\"/>\r\n            <div className = \"flex-fill\">\r\n                <textarea className = {textAreaClass} rows = {focused ? '3' : '1'} onFocus = {() => setFocused(true)} onChange = {(event) => setQuestion(event.target.value)} value = {question}/>\r\n                <div className=\"invalid-feedback\">{errors.content}</div>\r\n                {focused && (\r\n                    <div className = \"text-right mt-1\">\r\n                        <ButtonWithProgress className = \"btn btn-primary\" onClick = {onClickSubmit} text = \"Submit\" pendingApiCall = {pendingApiCall} disabled = {pendingApiCall}/>\r\n                        <button className = \"btn btn-light d-inline-flex ml-1\" onClick = {() => setFocused(false)} disabled = {pendingApiCall}>\r\n                            <span className = \"material-icons\">close</span>Cancel\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubmitQuestion;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProfileImageWithDefault from'./ProfileImageWithDefault';\r\n\r\nconst UserListItem = (props) => {\r\n\r\n    const { user } = props;\r\n    const { username, displayName, image } = user;\r\n\r\n    return (\r\n        <Link to = {`/user/${username}`} className = \"list-group-item list-group-item-action\">\r\n            <ProfileImageWithDefault className = \"rounded-circle\" width = \"32\" height = \"32\" alt = {`${username} profile`} image = {image} />\r\n            <span className = \"pl-2\">\r\n                {displayName}@{username}\r\n            </span>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default UserListItem;","import React, { useState, useEffect } from 'react';\r\nimport { getUsers } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from './Spinner';\r\nimport UserListItem from './UserListItem';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst UserList = () => {\r\n\r\n    const [page, setPage] = useState({\r\n        content: [],\r\n        size: 3,\r\n        number: 0\r\n    });\r\n\r\n    const [loadFailure, setLoadFailure] = useState(false);\r\n\r\n    const pendingApiCall = useApiProgress('get', '/api/1.0/users?page');\r\n\r\n    const {isLoggedIn} = useSelector((store) => ({\r\n        isLoggedIn: store.isLoggedIn\r\n      }));\r\n    \r\n    useEffect(() => {\r\n        loadUsers();\r\n    }, [isLoggedIn]);\r\n\r\n    const onClickNext = () => {\r\n        const nextPage = page.number + 1;\r\n        loadUsers(nextPage);\r\n    }\r\n\r\n    const onClickPrevious = () => {\r\n        const previousPage = page.number - 1;\r\n        loadUsers(previousPage);\r\n    }\r\n\r\n    const loadUsers = async page => {        \r\n        setLoadFailure(false)\r\n        try{\r\n            const response = await getUsers(page);            \r\n            setPage(response.data);  \r\n        } catch(error) {\r\n            setLoadFailure(true);\r\n        }\r\n    };\r\n    \r\n    const { content : users, last, first } = page;\r\n\r\n    let actionDiv = (        \r\n        <div>\r\n            {first == false && <button className = \"btn btn-sm btn-light\" onClick = {onClickPrevious}>Previous</button>}\r\n            {last == false && <button className = \"btn btn-sm btn-light float-right\" onClick = {onClickNext}>Next</button>}\r\n        </div>\r\n    );\r\n\r\n    if (pendingApiCall) {\r\n        actionDiv = (\r\n            <Spinner />\r\n        );\r\n    }\r\n    \r\n    return (\r\n        <div className = \"card\">\r\n            <h3 className = \"card-header text-center\">Users</h3>\r\n            <div className = \"list-group-flush\">\r\n                {users.map(user => (\r\n                    <UserListItem key = {user.username} user = {user} />\r\n                ))}\r\n            </div>\r\n            {actionDiv}\r\n            {loadFailure && <div className = \"text-center text-danger\">Load Failure</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserList;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport QuestionFeed from '../components/QuestionFeed';\r\nimport SubmitQuestion from '../components/SubmitQuestion';\r\nimport UserList from '../components/UserList';\r\n\r\nconst HomePage = () => {\r\n    const { isLoggedIn } = useSelector(store =>({isLoggedIn: store.isLoggedIn}));\r\n    return (\r\n        <div className = \"container\">\r\n            <div className = \"row\">\r\n                <div className = \"col\">\r\n                    {isLoggedIn && (\r\n                        <>\r\n                            <h5>Sumbit your question:</h5>\r\n                            <div className = \"mb-2\"> \r\n                                <SubmitQuestion />\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                    <h5 className = \"mt-4\">Asked Questions :</h5>\r\n                    <QuestionFeed />\r\n                </div>\r\n                <div className = \"col\">\r\n                    <UserList />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomePage;","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport Input from './Input';\r\nimport { deleteUser, updateUser } from '../api/apiCalls';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\nimport { logoutSuccess, updateSuccess } from '../redux/authActions';\r\nimport Modal from './Modal';\r\n\r\nconst ProfileCard = (props) => {\r\n    const [inEditMode, setInEditMode] = useState(false);\r\n    const [updatedDisplayName, setUpdatedDisplayName] = useState();\r\n    const { username: loggedInUsername, isLoggedIn} = useSelector((store) => ({\r\n        isLoggedIn: store.isLoggedIn,\r\n        username: store.username}));\r\n    const routeParams = useParams();\r\n    const pathUsername = routeParams.username;\r\n    const [ user, setUser] = useState({});\r\n    const [editable, setEditable] = useState(false);\r\n    const [newImage, setNewImage] = useState();\r\n    const [validationErrors, setValidationErrors] = useState({});\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setUser(props.user);\r\n    }, [props.user]);\r\n\r\n    useEffect(() => {\r\n        setEditable(pathUsername == loggedInUsername);\r\n    }, [pathUsername, loggedInUsername]);\r\n\r\n    useEffect(() => {\r\n        if(!isLoggedIn){\r\n            setInEditMode(false);\r\n        }\r\n    }, [isLoggedIn])\r\n\r\n    useEffect(() => {\r\n        setValidationErrors(previousValidationErrors => ({\r\n                ... previousValidationErrors,\r\n                displayName: undefined\r\n            })\r\n        );\r\n    }, [updatedDisplayName]);\r\n\r\n    useEffect(() => {\r\n        setValidationErrors(previousValidationErrors => ({\r\n                ... previousValidationErrors,\r\n                image: undefined\r\n            })\r\n        );\r\n    }, [newImage]);\r\n    \r\n    const {username, displayName, image } = user;\r\n\r\n    const pendingApiCallDeleteUser = useApiProgress('delete', `/api/1.0/users/${username}`, true);\r\n    \r\n    useEffect(() => {\r\n        if (!inEditMode) {\r\n            setUpdatedDisplayName(undefined);\r\n            setNewImage(undefined);\r\n        } else {\r\n            setUpdatedDisplayName(displayName);\r\n        }\r\n    }, [inEditMode, displayName]);\r\n\r\n    const onClickSave = async () => {\r\n\r\n        let image;\r\n        if(newImage) {\r\n            image = newImage.split(',')[1];\r\n        }\r\n        const body = {\r\n            displayName: updatedDisplayName,\r\n            image\r\n        };\r\n        try{\r\n            const response = await updateUser(username, body)\r\n            setInEditMode(false);\r\n            setUser(response.data);\r\n            dispatch(updateSuccess(response.data));\r\n        } catch (error) {\r\n            setValidationErrors(error.response.data.validationErrors);\r\n        }\r\n    };\r\n\r\n    const onChangeFile = (event) => {\r\n        if(event.target.files.length < 1) {\r\n            return;\r\n        }\r\n        const file = event.target.files[0];\r\n        const fileReader = new FileReader();\r\n        fileReader.onloadend = () => {\r\n            setNewImage(fileReader.result); \r\n        }\r\n        fileReader.readAsDataURL(file);\r\n    }\r\n\r\n    const onClickCancel = () => {\r\n        setModalVisible(false);\r\n    }\r\n\r\n    const onClickDeleteUser = async () => {\r\n        await deleteUser(username);\r\n        setModalVisible(false);\r\n        dispatch(logoutSuccess());\r\n        history.push('/');\r\n    }\r\n\r\n    const pendingApiCall = useApiProgress('put', '/api/1.0/users/' + username);\r\n\r\n    const { displayName: displayNameError, image: imageError } = validationErrors;\r\n\r\n    return (\r\n        <div className = \"card text-center\">\r\n            <div className = \"card-header\">\r\n                <ProfileImageWithDefault className = \"rounded-circle shadow\" width = \"200\" height = \"200\" alt = {`${username} profile`} image = {image} tempimage = {newImage}/>\r\n            </div>\r\n            <div className = \"card-body\">\r\n                {!inEditMode && (\r\n                    <>\r\n                        <h3>\r\n                            {displayName}@{username}\r\n                        </h3>\r\n                        {editable && (\r\n                            <>\r\n                                <button className = \"btn btn-success d-inline-flex\" onClick = {() => setInEditMode(true)}>\r\n                                    <span className = \"material-icons\">edit</span>\r\n                                    Edit\r\n                                </button>\r\n                                <div className = \"pt-2\">\r\n                                    <button className = \"btn btn-danger d-inline-flex\" onClick = {() => setModalVisible(true)}>\r\n                                        <span className = \"material-icons\">directions_run</span>\r\n                                        Delete My Account\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </>\r\n                )}\r\n                {inEditMode && (\r\n                    <div>\r\n                        <Input label = \"Change Display Name\" defaultValue = {displayName} onChange = {(event) => {setUpdatedDisplayName(event.target.value)}} error = {displayNameError} />\r\n                        <Input type = \"file\" onChange = {onChangeFile} error = {imageError}/>\r\n                        <div>\r\n                            <ButtonWithProgress \r\n                                className = \"btn btn-primary d-inline-flex\" \r\n                                onClick = {onClickSave} \r\n                                disabled = {pendingApiCall} \r\n                                pendingApiCall = {pendingApiCall} \r\n                                text = {\r\n                                <>\r\n                                    <span className = \"material-icons\">save</span>\r\n                                    Save\r\n                                </>\r\n                                }\r\n                            />                                \r\n                            <button className = \"btn btn-light d-inline-flex ml-1\" onClick = {() => setInEditMode(false)} disabled = {pendingApiCall}>\r\n                                <span className = \"material-icons\">close</span>Cancel\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <Modal visible={modalVisible} \r\n            title = {'Delete My Account'}\r\n            okButton = {'Delete My Account'}\r\n            onClickCancel = {onClickCancel} \r\n            onClickOk = {onClickDeleteUser} \r\n                message = {'Are you sure you want to delete your account?'}\r\n                pendingApiCall = {pendingApiCallDeleteUser}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileCard;","import React, { useEffect, useState } from 'react';\r\nimport ProfileCard from '../components/ProfileCard';\r\nimport { getUser } from '../api/apiCalls';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from '../components/Spinner';\r\nimport QuestionFeed from '../components/QuestionFeed';\r\n\r\nconst UserPage = () => {\r\n    const [user, setUser] = useState({});\r\n    const [notFound, setNotFound] = useState(false);\r\n\r\n    const { username } = useParams();\r\n\r\n    const pendingApiCall = useApiProgress('get', '/api/1.0/users/' + username, true);\r\n\r\n    useEffect(() => {\r\n        setNotFound(false);\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        const loadUser = async () => {\r\n            try {\r\n                const response = await getUser(username);\r\n                setUser(response.data);\r\n            }catch(error) {\r\n                setNotFound(true);\r\n            }\r\n        };\r\n        loadUser();\r\n    }, [username]);\r\n    \r\n    if (notFound) {\r\n        return (\r\n            <div className = \"container\">\r\n                <div className = \"alert alert-danger text-center\">\r\n                    <div>\r\n                    <span className = \"material-icons\" style = {{fontsize: '48px'}}>error</span>\r\n                    </div>\r\n                    User not found\r\n                </div>            \r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (pendingApiCall || user.username != username ) {\r\n        return <Spinner />;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className = \"container\">\r\n            <div className = \"row\">\r\n                <div className = \"col\">\r\n                    <ProfileCard user = {user}/>\r\n                </div>\r\n                <div className = \"col\">\r\n                    <QuestionFeed />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserPage;","import React, { useEffect, useRef, useState } from 'react';\r\nimport logo from '../assets/logo.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutSuccess } from '../redux/authActions';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\n\r\nconst TopBar = (props) => {\r\n\r\n    const { username, isLoggedIn, displayName, image } = useSelector((store) => ({     \r\n            isLoggedIn: store.isLoggedIn,\r\n            username: store.username,\r\n            displayName: store.displayName,\r\n            image: store.image        \r\n        }));\r\n\r\n    const menuArea = useRef(null);\r\n\r\n    const [menuVisible, setMenuVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', menuClickTracker);\r\n        return () => {\r\n            document.removeEventListener('click', menuClickTracker);\r\n        }\r\n    }, [isLoggedIn]);\r\n\r\n    const menuClickTracker = (event) => {\r\n        if(menuArea.current == null || !menuArea.current.contains(event.target)){\r\n            setMenuVisible(false);\r\n        }\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onLogoutSuccess = () => {\r\n        dispatch(logoutSuccess());\r\n    }\r\n\r\n        let links = (\r\n            <ul className = \"navbar-nav ml-auto\">\r\n                <li>\r\n                    <Link className = \"nav-link\" to = \"/login\">\r\n                        Login\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link className = \"nav-link\" to = \"/signup\">\r\n                        Sign Up\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n            );\r\n        if (isLoggedIn) {\r\n            let dropDownClass = \"dropdown-menu p-0 shadow\";\r\n            if(menuVisible) {\r\n                dropDownClass += ' show';\r\n            }\r\n            links = (\r\n                <ul className = \"navbar-nav ml-auto\" ref = {menuArea}>\r\n                    <li className = \"nav-item dropdown\">\r\n                        <div className = \"d-flex\" style = {{cursor: 'pointer'}} onClick = {() => setMenuVisible(true)}>\r\n                            <ProfileImageWithDefault image = {image} width = \"32\" height = \"32\" className = \"rounded-circle m-auto\" />\r\n                            <span className = \"nav-link dropdown-toggle\">{displayName}</span>\r\n                        </div>\r\n                        <div className = {dropDownClass}>\r\n                            <Link className = \"dropdown-item d-flex p-2\" to = {`/user/${username}`} onClick = {() => setMenuVisible(false)}>\r\n                            <span className = \"material-icons text-info mr-2\">person</span>\r\n                                My Profile\r\n                            </Link>\r\n                            <span className = \"dropdown-item d-flex p-2\" onClick = {onLogoutSuccess} style = {{cursor: 'pointer'}}>\r\n                                <span className = \"material-icons text-danger mr-2\">power_settings_new</span>\r\n                                Logout\r\n                            </span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className = \"shadow-sm bg-light mb-2\">                \r\n                <nav className = \"navbar navbar-light bg-light container navbar-expand\">\r\n                    <Link className = \"navbar-brand\" to = \"/\">\r\n                        <img src = {logo} width = \"80\" alt = \"Askify Logo\"/>\r\n                        Askify\r\n                    </Link>\r\n                    {links}                    \r\n                </nav>\r\n            </div>\r\n        );\r\n}\r\n\r\nexport default TopBar;","export default \"data:image/png;base64,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\"","import React from 'react';\nimport RegisterUserPage from '../pages/RegisterUserPage';\nimport LoginPage from '../pages/LoginPage';\nimport HomePage from'../pages/HomePage';\nimport UserPage from '../pages/UserPage';\nimport { HashRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\nimport TopBar from '../components/TopBar';\nimport { useSelector } from 'react-redux';\n\n\nconst App = () => {\n  \n  const {isLoggedIn} = useSelector((store) => ({\n    isLoggedIn: store.isLoggedIn\n  }));\n\n  return (\n    <div>\n      <Router>\n        <TopBar />\n        <Switch>\n          <Route exact path = \"/\" component = {HomePage} />\n          {!isLoggedIn && (\n            <Route\n              path = \"/login\" \n              component = {LoginPage} />\n          )}\n          <Route path = \"/signup\" component = {RegisterUserPage} />\n          <Route \n            path = \"/user/:username\" component = {UserPage}/>\n          <Redirect to = \"/\" /> \n        </Switch>\n      </Router>\n  </div>\n  );\n}\n\nexport default App;\n","import * as ACTIONS from './Constants';\r\n\r\nconst defaultState = {\r\n    isLoggedIn: false,\r\n    username: undefined,\r\n    displayName: undefined,\r\n    image: undefined,\r\n    password: undefined\r\n  };\r\n  \r\n  const authReducer = (state = {... defaultState }, action) => {\r\n    if (action.type == ACTIONS.LOGOUT_SUCCESS) {\r\n      return defaultState;\r\n    } else if (action.type == ACTIONS.LOGIN_SUCCESS) {\r\n      return {\r\n        ... action.payload,\r\n        isLoggedIn: true\r\n      }\r\n    } else if (action.type == ACTIONS.UPDATE_SUCCESS) {\r\n      return {\r\n        ... state,\r\n        ... action.payload\r\n      }\r\n    }\r\n    return state;\r\n};\r\n\r\nexport default authReducer;\r\n\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk'; \r\nimport authReducer from'./authReducer';\r\nimport SecureLS from 'secure-ls';\r\nimport { setAuthorizationHeader } from '../api/apiCalls';\r\n\r\nconst SecureLs = new SecureLS();\r\n\r\nconst getStateFromStorage = () => {  \r\n  const askAuth = SecureLs.get('ask-auth');\r\n\r\n  let stateInLocalStorage = {\r\n    isLoggedIn: false,\r\n    username: undefined,\r\n    displayName: undefined,\r\n    image: undefined,\r\n    password: undefined\r\n  };\r\n\r\n  if(askAuth){\r\n    return askAuth;\r\n  } \r\n  return stateInLocalStorage; \r\n}\r\n\r\nconst updateStateInStorage = newState => {\r\n  SecureLs.set('ask-auth', newState);\r\n}\r\n\r\nconst configureStore = () => {\r\n  const initialState = getStateFromStorage();\r\n  setAuthorizationHeader(initialState);\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n  const store = createStore(authReducer, initialState, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n  store.subscribe(() => {\r\n    updateStateInStorage(store.getState());\r\n    setAuthorizationHeader(store.getState());\r\n  });\r\n\r\n  return store;\r\n};\r\n\r\n  export default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap-override.scss';\nimport reportWebVitals from './reportWebVitals';\nimport App from './container/App';\nimport { Provider } from 'react-redux';\nimport configureStore from './redux/configureStore';\n\nconst store = configureStore(); \n\nReactDOM.render(\n  <Provider store = {store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}